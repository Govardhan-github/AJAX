<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test Ajax Services And Promise</title>
        <style>
            .body{margin: auto;}
            div{
                border: 1px solid black;
                background-color: lightblue;
                padding: 50px;
                width: 80%;
                font-size: xx-large;
                margin-top: 5px;

            }
        </style>
        <script src="../js/service.js"></script>
    </head>
    <body>
        <h1>The Test Service Result</h1>
        <div id="get_services"></div>
        <div id="delete_services"></div>
        <div id="post_services"></div>
        <script>
      const getElem = document.querySelector("#get_services");
            const getUrl = 'http://localhost:3000/employees';
            makePromiseCall('GET', getUrl, true)
                .then((responseText) => {
                    getElem.textContent='Get User Data at: '  + responseText;
                })
                .catch((error) => {
                    getElem.textContent='GET Error Status: ' + JSON.stringify(error);
                });       
            const deleteElem = document.querySelector("#delete_services");
            const deleteUrl = 'http://localhost:3000/employees/';
            makePromiseCall('DELETE', deleteUrl, false)
                .then((responseText) => {
                    deleteElem.textContent='Delete Data : ' + responseText;
                })
                .catch((error) => {
                    deleteElem.textContent='DELETE Error Status: ' + JSON.stringify(error);
                });
               
            const postElem = document.querySelector("#post_services");
            const postUrl = 'http://localhost:3000/employees/';
            const empData = { 'name': "Gopi", 'salary': "20000" };
            makePromiseCall('POST', postUrl, true,empData)
                .then((responseText) => {
                    postElem.textContent='Add User Data : ' + responseText;
                })
                .catch((error) => {
                    postElem.textContent='POST Error Status: ' + JSON.stringify(error);
                });      
        </script>
    </body>
</html>